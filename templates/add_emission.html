{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-8 offset-md-2">
        <div class="content-card">
            <div class="content-header">
                <h2><i class="fas fa-plus-circle me-2"></i>Add New Emission Record</h2>
                <p class="subtitle">Track your carbon footprint by recording emission sources</p>
            </div>
            
            <form method="POST" action="{{ url_for('add_emission') }}" class="emission-form">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="source" class="form-label">Source</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                            <input type="text" class="form-control" id="source" name="source" placeholder="e.g. Car, Electric Bill" required>
                        </div>
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label for="category" class="form-label">Category</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-tag"></i></span>
                            <select class="form-select" id="category" name="category" required>
                                <option value="" selected disabled>Select category</option>
                                <option value="Electricity">Electricity</option>
                                <option value="Transportation">Transportation</option>
                                <option value="Manufacturing">Manufacturing</option>
                                <option value="Waste">Waste</option>
                                <option value="Food">Food</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                {% if is_industry %}
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="department" class="form-label">Department</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-building"></i></span>
                            <select class="form-select" id="department" name="department" required>
                                <option value="Manufacturing">Manufacturing</option>
                                <option value="Logistics">Logistics</option>
                                <option value="Office">Office</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="scope" class="form-label">Scope</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-layer-group"></i></span>
                            <select class="form-select" id="scope" name="scope" required>
                                <option value="Scope 1">Scope 1</option>
                                <option value="Scope 2">Scope 2</option>
                            </select>
                        </div>
                    </div>
                </div>
                {% endif %}

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="amount" class="form-label">Amount</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-weight-scale"></i></span>
                            <input type="number" step="0.01" class="form-control" id="amount" name="amount" placeholder="0.00" required>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="unit" class="form-label">Unit</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-ruler"></i></span>
                            <select class="form-select" id="unit" name="unit">
                                <option value="kg" selected>kg CO₂</option>
                                <option value="ton">ton CO₂</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="date" class="form-label">Date</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-calendar"></i></span>
                        <input type="date" class="form-control" id="date" name="date" required>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label for="description" class="form-label">Description (Optional)</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-align-left"></i></span>
                        <textarea class="form-control" id="description" name="description" rows="3" placeholder="Additional details about this emission source"></textarea>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-lg">
                        <i class="fas fa-save me-2"></i>Add Emission
                    </button>
                    <a href="{{ url_for('emissions') }}" class="btn btn-outline-secondary btn-lg">
                        <i class="fas fa-times me-2"></i>Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
